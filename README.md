## Django REST Live

[![Documentation](https://readthedocs.org/projects/django-rest-live/badge/?version=latest)](https://django-rest-live.readthedocs.io/en/latest/?badge=latest)
[![CircleCI](https://circleci.com/gh/pennlabs/django-rest-live.svg?style=shield)](https://circleci.com/gh/pennlabs/django-rest-live)
[![Coverage Status](https://codecov.io/gh/pennlabs/django-rest-live/branch/master/graph/badge.svg)](https://codecov.io/gh/pennlabs/django-rest-live)
[![PyPi Package](https://img.shields.io/pypi/v/django-rest-live.svg)](https://pypi.org/project/django-rest-live/)

`django-rest-live` enables frontends which use an API built with [Django REST Framework](https://github.com/encode/django-rest-framework) to receive a stream of updates to querysets and model instances over a websocket connection managed by [Django Channels](https://github.com/django/channels).

REST Framework and Channels are both great extensions to Django, but there is no built-in integration that allows them to work together. REST Framework author Tom Christie has mentioned plans for websocket support in REST Framework on a few occasions ([2016](https://www.django-rest-framework.org/community/mozilla-grant/#realtime-apis), [2018](https://groups.google.com/g/django-rest-framework/c/3-QNn3SYlZI/m/Gwx6rFr4BQAJ?pli=1)), but at the time, async support in Django was in the early planning stages and Channels was being [rewritten with breaking API changes](https://channels.readthedocs.io/en/2.x/one-to-two.html). [Most](https://github.com/encode/django-rest-framework/issues/5642) of Tom Christie's effort to expand the realtime ecosystem in Python went into [`uvicorn`](https://github.com/encode/uvicorn) and an expanding array of libraries built around [starlette](https://github.com/encode/starlette) rather than Django and REST Framework.

The need for real-time updates with REST Framework still exists today, however, and `django-rest-live` aims to bridge the gap between Channels and REST Framework in a generic and boilerplate-free way.

After running `pip install django-rest-live`, The only change to your existing code is to add a mixin to the REST
Framework view that you want to make realtime-capable:

```python
from rest_framework.viewsets import ModelViewSet
from rest_live.mixins import RealtimeMixin

class TaskViewSet(ModelViewSet, RealtimeMixin): # The only change is adding the RealtimeMixin!
    queryset = Task.objects.all()
    serializer_class = TaskSerializer
```

There's a few more lines needed to set up routing with Django Channels, so you should check out
[the full tutorial and reference documentation](https://django-rest-live.readthedocs.io)!

`django-rest-live` took initial inspiration from [this article by Kit La Touche](https://www.oddbird.net/2018/12/12/channels-and-drf/).
Differently from projects like [`djangochannelsrestframework`](https://github.com/hishnash/djangochannelsrestframework),
`django-rest-live` does not aim to supplant REST Framework for performing CRUD actions through a REST API. Instead,
it is designed to be used in conjunction with HTTP REST endpoints. Clients should still use normal REST framework
endpoints generated by ViewSets and other API views to get initial data to populate a page, as well as any write-driven
behavior (`POST`, `PATCH`, `PUT`, `DELETE`). `django-rest-live` gets rid of the need for periodic polling GET
requests to for resource updates after page load.

